%\documentclass[12pt,a4paper]{scrartcl}
\documentclass[12pt,a4paper]{article}

\makeatletter % Technical doc - START

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{ucs}

\usepackage[french]{babel,varioref}

\usepackage[top=2cm, bottom=2cm, left=1.5cm, right=1.5cm]{geometry}
\usepackage{enumitem}

% Source
%	* https://tex.stackexchange.com/a/558025/6880
\usepackage{tocbasic}[2020/07/22]% needs KOMA-Script version 3.31
\DeclareTOCStyleEntries[
  raggedentrytext,
  linefill=\hfill,
  indent=0pt,
  dynindent,
  numwidth=0pt,
  numsep=1ex,
  dynnumwidth
]{tocline}{chapter,section,subsection,subsubsection,paragraph,subparagraph}
\DeclareTOCStyleEntry[indentfollows=chapter]{tocline}{section}

\usepackage{pgffor}

\usepackage{multicol}

\usepackage{makecell}

\usepackage{color}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
}

\usepackage[numbered]{bookmark}
\usepackage{amsthm}

\usepackage{tcolorbox}
\tcbuselibrary{listingsutf8}

\usepackage{ifplatform}

\usepackage{ifthen}

\usepackage{macroenvsign}


% Sections numbering

%\renewcommand\thechapter{\Alph{chapter}.}
\renewcommand\thesection{\Roman{section}.}
\renewcommand\thesubsection{\arabic{subsection}.}
\renewcommand\thesubsubsection{\roman{subsubsection}.}



% MISC

\newtcblisting{latexex}{%
	sharp corners,%
	left=1mm, right=1mm,%
	bottom=1mm, top=1mm,%
	colupper=red!75!blue,%
	listing side text
}

\newtcbinputlisting{\inputlatexex}[2][]{%
	listing file={#2},%
	sharp corners,%
	left=1mm, right=1mm,%
	bottom=1mm, top=1mm,%
	colupper=red!75!blue,%
	listing side text
}


\newtcblisting{latexex-flat}{%
	sharp corners,%
	left=1mm, right=1mm,%
	bottom=1mm, top=1mm,%
	colupper=red!75!blue,%
}

\newtcbinputlisting{\inputlatexexflat}[2][]{%
	listing file={#2},%
	sharp corners,%
	left=1mm, right=1mm,%
	bottom=1mm, top=1mm,%
	colupper=red!75!blue,%
}


\newtcblisting{latexex-alone}{%
	sharp corners,%
	left=1mm, right=1mm,%
	bottom=1mm, top=1mm,%
	colupper=red!75!blue,%
	listing only
}

\newtcbinputlisting{\inputlatexexalone}[2][]{%
	listing file={#2},%
	sharp corners,%
	left=1mm, right=1mm,%
	bottom=1mm, top=1mm,%
	colupper=red!75!blue,%
	listing only
}


\newcommand\inputlatexexcodeafter[1]{%
	\begin{center}
		\input{#1}
	\end{center}

	\vspace{-.5em}
	
	Le rendu précédent a été obtenu via le code suivant.
	
	\inputlatexexalone{#1}
}


\newcommand\inputlatexexcodebefore[1]{%
	\inputlatexexalone{#1}
	\vspace{-.75em}
	\begin{center}
		\textit{\footnotesize Rendu du code précédent}
		
		\medskip
		
		\input{#1}
	\end{center}
}


\newcommand\env[1]{\texttt{#1}}
\newcommand\macro[1]{\env{\textbackslash{}#1}}



\setlength{\parindent}{0cm}
\setlist{noitemsep}

\theoremstyle{definition}
\newtheorem*{remark}{Remarque}

\usepackage[raggedright]{titlesec}

\titleformat{\paragraph}[hang]{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}{0pt}{3.25ex plus 1ex minus .2ex}{0.5em}


\newcommand\separation{
	\medskip
	\hfill\rule{0.5\textwidth}{0.75pt}\hfill
	\medskip
}


\newcommand\extraspace{
	\vspace{0.25em}
}


\newcommand\whyprefix[2]{%
	\textbf{\prefix{#1}}-#2%
}

\newcommand\mwhyprefix[2]{%
	\texttt{#1 = #1-#2}%
}

\newcommand\prefix[1]{%
	\texttt{#1}%
}


\newcommand\inenglish{\@ifstar{\@inenglish@star}{\@inenglish@no@star}}

\newcommand\@inenglish@star[1]{%
	\emph{\og #1 \fg}%
}

\newcommand\@inenglish@no@star[1]{%
	\@inenglish@star{#1} en anglais%
}


\newcommand\ascii{\texttt{ASCII}}


% Example
\newcounter{paraexample}[subsubsection]

\newcommand\@newexample@abstract[2]{%
	\paragraph{%
		#1%
		\if\relax\detokenize{#2}\relax\else {} -- #2\fi%
	}%
}



\newcommand\newparaexample{\@ifstar{\@newparaexample@star}{\@newparaexample@no@star}}

\newcommand\@newparaexample@no@star[1]{%
	\refstepcounter{paraexample}%
	\@newexample@abstract{Exemple \theparaexample}{#1}%
}

\newcommand\@newparaexample@star[1]{%
	\@newexample@abstract{Exemple}{#1}%
}


% Change log
\newcommand\topic{\@ifstar{\@topic@star}{\@topic@no@star}}

\newcommand\@topic@no@star[1]{%
	\textbf{\textsc{#1}.}%
}

\newcommand\@topic@star[1]{%
	\textbf{\textsc{#1} :}%
}

\makeatother % Technical doc - END


\usepackage{tnsana}


\begin{document}

\renewcommand\labelitemi{\raisebox{0.125em}{\tiny\textbullet}}
\renewcommand{\labelitemii}{---}

\title{ %
	Le package \texttt{tnsana}:\\%
	de l'analyse élémentaire%
	\\%
	{\footnotesize Code source disponible sur \url{https://github.com/typensee-latex/tnsana.git}.}%
	\\%
    {\footnotesize Version \texttt{0.7.0-beta} développée et testée sur \macosxname{}.}%
}
\author{Christophe BAL}
\date{2020-08-05}

\maketitle


\vspace{2em}

\hrule

\tableofcontents

\vspace{1.5em}

\hrule

\newpage

\section{Introduction}

Le package \verb+tnsana+ propose des macros pour écrire de l'analyse mathématique basique via un codage sémantique simple.

% tnscom used - START
\section{Beta-dépendance}

\verb#tnscom# qui est disponible sur \url{https://github.com/typensee-latex/tnscom.git} est un package utilisé en coulisse.
% tnscom used - END
% List of packages - START
\section{Packages utilisés}

La roue ayant déjà été inventée, le package \verb#tnsana# réutilise les packages suivants sans aucun scrupule.

\begin{multicols}{4}
    \begin{itemize}
        \item \verb#circledsteps#
        \item \verb#commado#
        \item \verb#forloop#
        \item \verb#ifmtarg#
        \item \verb#mathtools#
        \item \verb#nicematrix#
        \item \verb#pgfplots#
        \item \verb#relsize#
        \item \verb#tkz-tab#
        \item \verb#upgreek#
        \item \verb#xstring#
    \end{itemize}
\end{multicols}
% List of packages - END
\section{Constantes et paramètres}

\subsection{Constantes classiques ajoutées}

Les macros ci-dessous ne nécessitent pas d'accolades.

% List of classical constants - START

\begin{latexex}
$\ggamma$ , $\ppi$ , $\ttau$ ,
$\ee$ , $\ii$ , $\jj$ 
et $\kk$ où $\ttau = 2 \ppi$
\end{latexex}

% List of classical constants - END


\begin{remark}
	Faites attention car \verb+{\Large $\ppi \neq \pi$}+ produit {\Large $\ppi \neq \pi$}. Comme vous le constatez, les symboles ne sont pas identiques. Ceci est vraie pour toutes les constantes grecques.
\end{remark}


% ---------------------- %


\subsection{Constantes latines personnelles}

La macro \macro{param} est surtout là pour une utilisation pédagogique.

\begin{latexex}
$\param{a} x^2 + \param{b} x + \param{c}$
ou
$a x^2 + b x + c$
\end{latexex}


% ---------------------- %
\section{Une variable \og symbolique \fg{}}

Le package \verb+tnscom+, chargé en coulisse, propose la macro \macro{symvar} qui produit différents symboles donnés ci-dessous.

\begin{latexex}
$\symvar = \symvar[1]$ ou
$\symvar[2]$ ou
$\symvar[3]$
\end{latexex}

Le nom \prefix{symvar} vient de \whyprefix{symb}{olic} \whyprefix{var}{iable} soit \inenglish{variable symbolique}.
Ces symboles sont utiles pour indiquer un argument symboliquement sans faire référence précisément à une ou des variables nommées.


% ---------------------- %
\section{La fonction valeur absolue}

\newparaexample*{}

\begin{latexex}
$\abs{2}$ ,
$\abs {\dfrac{3}{5}}$ ou
$\abs*{\dfrac{3}{5}}$
\end{latexex}


\begin{remark}
	Le code \LaTeX{} vient directement de ce poste : \url{https://tex.stackexchange.com/a/43009/6880}.
\end{remark}


% ---------------------- %
\section{Fonctions nommées spéciales}

\subsection{Sans paramètre}

Quelques fonctions nommées ont été ajoutées en plus de celles fournies par le package \verb#amsmath#  qui est chargé en coulisse et propose par exemple $\lg x$ et $\ln x$ via les macros \macro{lg} et \macro{ln}.
Ci-dessous le \prefix{f} dans \prefix{fch} est pour \whyprefix{f}{rench} soit \inenglish{français} \emph{(ce choix sert à éviter des incompatibilités avec d'autres packages)}. La liste complète des fonctions nommées est donnée plus bas dans la section  \ref{tnsana-all-named-functions}

\begin{latexex}
$\fch x = \cosh x$ ou $\acos x$
\end{latexex}


% ---------------------- %


\subsection{Avec un paramètre}

Pour le moment il y a juste deux fonctions utilisables avec un paramètre optionnel. Les voici.

\begin{latexex}
$\log[2] x = \lg x$ ou
$\exp[6] y = 6^y$
\end{latexex}


% ---------------------- %


\subsection{Toutes les fonctions nommées en plus} \label{tnsana-all-named-functions}

\vspace{-1em}

\begin{multicols}{2}
% Table of all - START
    \macro{acos x} : $\acos x$

    \macro{asin x} : $\asin x$

    \macro{atan x} : $\atan x$

    \macro{arccosh x} : $\arccosh x$

    \macro{arcsinh x} : $\arcsinh x$

    \macro{arctanh x} : $\arctanh x$

    \macro{acosh x} : $\acosh x$

    \macro{asinh x} : $\asinh x$

    \macro{atanh x} : $\atanh x$

    \macro{fch x} : $\fch x$

    \macro{fsh x} : $\fsh x$

    \macro{fth x} : $\fth x$

    \macro{afch x} : $\afch x$

    \macro{afsh x} : $\afsh x$

    \macro{afth x} : $\afth x$

    \macro{exp x} : $\exp x$

    \macro{exp[p] x} : $\exp[p] x$

    \macro{log x} : $\log x$

    \macro{log[p] x} : $\log[p] x$
% Table of all - END
\end{multicols}
\section{Limite}

\newparaexample{Cas minimaliste}

Notez ci-dessous que le rendu de la limite via \macro{limit} se fait toujours en mode \macro{displaystyle} pour l'opérateur de limite.

\begin{latexex}
$\limit{f(x)}{x}{0} = \frac{1}{2}$
\end{latexex}


\begin{remark}
	\verb#\lim\limits_{x \rightarrow 0} f(x)# produit 
	$\lim\limits_{x \rightarrow 0} f(x)$ contre 
	$\limit{f(x)}{x}{0}$ ci-dessus.
	La version \macro{limit} utilise un petit peu plus d'espace sous le mot lim.
\end{remark}



% ---------------------- %


\newparaexample{Avec des conditions}

Ce 2\ieme{} exemple devrait rendre intéressante la macro \macro{limit} qui permet d'ajouter facilement plusieurs conditions
\footnote{
	En pratique, on utilise généralement au maximum une condition.
}
comme le montre la 2\ieme{} limite ci-après.

\begin{latexex}
$\limit{f(x)}{x}{0 | x > 0}$ ou
$\limit{f(z)}{z}%
       {0 | z \in \Omega | \abs{z} < 3}$
\end{latexex}


% ---------------------- %


\newparaexample{Ajout de parenthèses}

Les options \verb#p# et \verb#sp# permettent d'ajouter facilement des parenthèses extensibles ou non autour de la fonction. 
Indiquons que \prefix{sp} est pour \whyprefix{s}{mall} \whyprefix{p}{arenthesis} soit \inenglish{petites parenthèses}.

\begin{latexex}
$\displaystyle\limit[p] {\frac{1}{x}}{x}
                        {0 | x > 0}$
ou
$\displaystyle\limit[sp]{\frac{1}{x}}{x}
                        {0 | x > 0}$
\end{latexex}


% ---------------------- %
\section{Calcul différentiel}

\subsection{\texorpdfstring{Les opérateurs $\pp{}$ et $\dd{}$}%                           {Les opérateurs "d rond" et "d droit"}}
                           {Les opérateurs "d rond" et "d droit"}}

Voici deux opérateurs utiles aussi bien pour du calcul différentiel que du calcul intégral. 

\begin{latexex}
$\dd{t} = \dd[1]{t}$ ou $\dd[n]{x}$

$\pp{t} = \pp[1]{t}$ ou $\pp[n]{x}$
\end{latexex}


% ---------------------- %


\subsection{Dérivations totales d'une fonction -- Version longue avec une variable}

\newparaexample{Différentes écritures possibles}

La macro \macro{der} est stricte du point de vue sémantique car on doit lui fournir la fonction, l'ordre de dérivation et la variable de dérivation
\emph{(voir la section \ref{tnsana-short-der} qui présente la macro \macro{sder} permettant une rédaction efficace pour obtenir $\sder[e]{f}{1}$ ou $\sder{f}{1}$)}.
Voici plusieurs mises en forme faciles à taper via l'option de \macro{der}.
Attention bien entendu à n'utiliser l'option par défaut \prefix{u} ou l'option \prefix{d} qu'avec un ordre de dérivation de valeur naturelle connue !

\begin{latexex}
 $\der   {f}{x}{3}
= \der[e]{f}{x}{3}
= \der[d]{f}{x}{3}$

 $\der[i] {u}{x}{k}
= \der[f] {u}{x}{k}
= \der[sf]{u}{x}{k}$
\end{latexex}


On peut aussi ajouter autour de la fonction des parenthèses extensibles ou non sauf même si cela n'est pas utile pour le mode \prefix{d} \emph{(voir juste après le mode \prefix{bd})}.
Ci-dessous on montre au passage une écriture du type \emph{\og opérateur fonctionnel \fg} : voir la section \ref{tnsana-ope-total-der} page \pageref{tnsana-ope-total-der} à ce sujet.

\begin{latexex}
 $\der[osf,sp]{\frac{1}{2}  uv}{x}{k}
= \der[of,p]  {\dfrac{1}{2} uv}{x}{k}$
\end{latexex}


Avec l'option \prefix{d} les parenthèses seules sont sans utilité car on peut obtenir des choses non souhaitées comme $\der[d, p]{u + v}{x}{2}$.
À la place on utilisera l'option \prefix{bd} où le \prefix{b} est pour \whyprefix{b}{racket} soit \inenglish{crochet}. Notez au passage que \prefix{p} et \prefix{sp} restent utilisables.

\begin{latexex}
 $\der[bd]   {\frac{1}{2}  uv}{x}{2}
= \der[bd,p] {\frac{1}{2}  uv}{x}{2}
= \der[bd,sp]{\dfrac{1}{2} uv}{x}{2}$
\end{latexex}


\begin{remark}
	Expliquons les valeurs des options.
	\begin{enumerate}
		\item \prefix{u}, la valeur par défaut, est pour \whyprefix{u}{suel} soit l'écriture avec les primes. Cette option ne marchera pas avec un nombre symbolique de dérivations. 

		\item \prefix{e} est pour \whyprefix{e}{xposant}.

		\item \prefix{i} est pour \whyprefix{i}{ndice}.

		\item \prefix{d} est pour \whyprefix{d}{ot} soit \inenglish{point}.

		\item \prefix{bd} est pour \whyprefix{b}{racket} \whyprefix{d}{ot} où \inenglish*{bracket} est pour \inenglish{crochet}.

		\medskip
		
		\item \prefix{f} est pour \whyprefix{f}{raction} avec aussi \prefix{sf} pour une écriture réduite où \prefix{s} est pour \whyprefix{s}{mall} soit \inenglish{petit}.

		\item \prefix{of} et \prefix{osf} utilisent le préfixe \prefix{o} pour \whyprefix{o}{pérateur}.
		
		\medskip
		
		\item \prefix{p} est pour \whyprefix{p}{arenthèse} : dans ce cas les parenthèses seront extensibles. Le fonctionnement est différent avec l'option \prefix{d} comme nous l'avons vu avant.

		\item \prefix{sp} est pour des parenthèses non extensibles. Là aussi le fonctionnement est différent avec l'option \prefix{d}.
	\end{enumerate}
\end{remark}


% ---------------------- %


\newparaexample{Pas de uns inutiles}

\begin{latexex}
 $\der[i ]{u}{x}{1}
= \der[f ]{u}{x}{1}
= \der[sf]{u}{x}{1}
= \der[of]{u}{x}{1}$
\end{latexex}


\begin{remark}
	Voici comment forcer les exposants $1$ si besoin. Fonctionnel mais très moche...

	\begin{latexex}
 $\der[i ]{u}{x}{\,\!1}
= \der[f ]{u}{x}{\,\!1}
= \der[sf]{u}{x}{\,\!1}
= \der[of]{u}{x}{\,\!1}$
\end{latexex}
\end{remark}

% ---------------------- %


\subsection{Dérivations totales d'une fonction -- Version courte sans variable} \label{tnsana-short-der}

Dans l'exemple suivant le code manque de sémantique car on n'indique pas la variable de dérivation.
Ceci étant dit à l'usage la macro \macro{sder} rend de grands services.
Ici le préfixe \prefix{s} est pour \whyprefix{s}{imple} voire \whyprefix{s}{impliste}...
Voici des exemples où de nouveau l'option par défaut \prefix{u} et l'option \prefix{d} ne seront fonctionnelles qu'avec un ordre de dérivation de valeur naturelle connue !


\newparaexample{}

\begin{latexex}
 $\sder{f}{1} = \der{f}{x}{1}$

 $\sder   {f}{3}
= \sder[e]{f}{3}
= \sder[d]{f}{3}$
\end{latexex}


\newparaexample{}

\begin{latexex}
 $\sder[sp] {\dfrac{1}{2} uv}{2}
= \sder[e,p]{\dfrac{1}{2} uv}{2}
= \sder[bd] {\dfrac{1}{2} uv}{2}$
\end{latexex}


\begin{remark}
	Ici les seules options disponibles sont \prefix{u}, \prefix{e}, \prefix{b}, \prefix{bd}, \prefix{p} et \prefix{sp}.
\end{remark}


% ---------------------- %


\subsection{L'opérateur de dérivation totale} \label{tnsana-ope-total-der}

Ce qui suit peut rendre service au niveau universitaire.
Les options possibles sont \verb+f+, valeur par défaut, \verb+sf+ et \verb+i+ avec les mêmes significations que pour la macro \macro{der}.

\begin{latexex}
 $\derope    {x}{k}
= \derope[sf]{x}{k}
= \derope[i] {x}{k}$
\end{latexex}


Ici non plus il n'y a pas de uns inutiles mais l'astuce \verb+\,\!1+ reste utilisable.

\begin{latexex}
 $\derope    {x}{1}
= \derope[sf]{x}{1}
= \derope[i] {x}{1}$
\end{latexex}


% ---------------------- %
%\section{Calcul différentiel}

\subsection{Dérivations partielles}

\newparaexample{Différentes écritures}

La macro \macro{pder}
\footnote{
	\macro{partial} existe déjà pour obtenir $\partial$.
}
avec \prefix{p} pour \whyprefix{p}{artielle}
permet de rédiger des dérivées partielles en utilisant facilement plusieurs mises en forme via une option qui vaut \verb+f+ par défaut.
Cette macro attend une fonction, les dérivées partielles effectuées et l'ordre total de dérivation.
Voici deux types de mise en forme classiques où vous noterez comment \verb+x | y^2+ est interprété.

\begin{latexex}
 $\pder    {f}{x | y^2}{3}
= \pder[sf]{f}{x | y^2}{3}$
\end{latexex}


Il existe en plus deux notations indicielles données en exemple ci-dessous.
Notez qu'avec l'option \verb+ei+ l'exposant total n'est pas imprimé et que les exposants partiels doivent être des naturels connus.

\begin{latexex}
 $\pder[i] {f}{x | y^2}{3}
= \pder[ei]{f}{x | y^2}{3}$
\end{latexex}


\medskip


Les options \verb+i+ et \verb+ei+ marchent avec des variables indicées à condition de bien mettre les dites variables entre des accolades.

\begin{latexex}
 $\pder[i] {f}{x_1 | {x_2}^2}{3}
= \pder[ei]{f}{x_1 | {x_2}^2}{3}$
\end{latexex}


\medskip


On peut aussi ajouter autour de la fonction à différencier des parenthèses extensibles ou non via \verb+p+ et \verb+sp+ respectivement.
Ci-dessous on montre aussi une écriture du type \emph{\og opérateur fonctionnel \fg} : voir la section \ref{tnsana-ope-partial-der} page \pageref{tnsana-ope-partial-der} à ce sujet.

\begin{latexex}
 $\pder[of,sp] {u + v}{x | y^2}{}
= \pder[osf,sp]{u + v}{x | y^2}{}$

 $\pder[i,sp]  {u + v}{x | y^2}{}
= \pder[ei,sp] {u + v}{x | y^2}{}$
\end{latexex}


\begin{remark}
	Les options disponibles sont 
	\verb+f+, \verb+sf+, \verb+of+, \verb+osf+, \verb+p+ et \verb+sp+  
	avec des significations similaires à celles pour la macro \macro{der}
	auxquelles s'ajoutent \verb+i+ et \verb+ei+ pour les écritures indicielles où le \prefix{e} dans \prefix{ei} est pour \whyprefix{e}{xpand} soit \inenglish{développer}.
\end{remark}


% ---------------------- %


\newparaexample{Pas de uns inutiles}

\begin{latexex}
 $\pder    {u}{x}{1}
= \pder[sf]{u}{x}{1}
= \pder[i] {u}{x}{1}$
\end{latexex}


\begin{remark}
	Rappelons que pour obtenir $\pder[i]{u}{x}{\,\!1}$ on peut taper \verb+\pder[i]{u}{x}{\,\!1}+.
\end{remark}


% ---------------------- %


\subsection{L'opérateur de dérivation partielle} \label{tnsana-ope-partial-der}

Ce qui suit peut rendre service au niveau universitaire.
Les options possibles sont \verb+f+, valeur par défaut, \verb+sf+ et \verb+i+ avec les mêmes significations que pour la macro \macro{pder}.

\begin{latexex}
 $\pderope    {x | y^2}{3}
= \pderope[sf]{x | y^2}{3}
= \pderope[i] {x | y^2}{3}$
\end{latexex}


% ---------------------- %
% \section{Analysis}

\section{Tableaux de variation et de signe}

\subsection{Les bases de \texttt{tkz-tab}}

\paragraph{Comment ça marche ?}

Pour les tableaux de variation et de signe non décorés, tout le boulot est fait par le package \verb+tkz-tab+.
Ce package est utilisé avec les réglages par défaut \emph{\og maison \fg} suivants via l'utilisation de \macro{tkzTabSetup}.

\begin{enumerate}
	\item \verb+arrowstyle = triangle 60+ permet d'obtenir des pointes de flèche plus visibles.
	
	\item \verb+doubledistance = 3pt+ améliore la visibilité des doubles barres pour les valeurs interdites.
\end{enumerate}


 

\medskip

Nous donnons quelques exemples classiques d'utilisation proches ou identiques de certains proposés dans la documentation de \verb+tkz-tab+ \emph{(les codes ont été mis en forme pour faciliter la compréhension de la syntaxe à suivre)}.
Reportez vous à la documentation de \verb+tkz-tab+ pour des compléments d'information : vous y trouverez des réglages très fins.


% ---------------------- %


\newparaexample{Avec des signes}

\inputlatexexcodeafter{tikz/tabsignvar-cos-sign.tkz}


% ---------------------- %


\newparaexample{Avec des variations (sans cadre)}

\inputlatexexcodeafter{tikz/tabsignvar-basic-var.tkz}


% ---------------------- %


\newparaexample{Variations via une dérivée (sans cadre)}

\inputlatexexcodeafter{tikz/tabsignvar-sin-var-via-cos.tkz}


% ---------------------- %


\newparaexample{Une image intermédiaire avec une seule flèche}

\inputlatexexcodeafter{tikz/tabsignvar-inter-img.tkz}


% ---------------------- %


\newparaexample{Valeurs interdites et valeurs supplémentaires}

\inputlatexexcodeafter{tikz/tabsignvar-illegal-n-inter-img-1.tkz}


Voici un autre exemple pour comprendre comment utiliser \macro{tkzTabVal} avec en plus l'option \verb+draw+ qui peut rendre service.

\inputlatexexcodeafter{tikz/tabsignvar-illegal-n-inter-img-2.tkz}


% ---------------------- %


\newparaexample{Signe à partir des variations (un peu de pédagogie...)}

Il est assez facile de produire des choses très utiles pédagogiquement comme ce qui suit en se salissant un peu les mains avec du code TikZ.

\begin{center}
	\input{tikz/tabsignvar-align-sign-from-var-1.tkz}
\end{center}

On déduit du tableau précédent le signe de la fonction $f$.

\begin{center}
	\input{tikz/tabsignvar-align-sign-from-var-2.tkz}
\end{center}


Voici le code du 1\ier{} tableau où le placement de la valeur $3$ au milieu entre $2$ et $+\infty$ va nous simplifier le travail pour le 2\ieme{} tableau.

\medskip

\inputlatexexalone{tikz/tabsignvar-align-sign-from-var-1.tkz}


Pour produire le code du 2\ieme{} tableau il a fallu utiliser au préalable ce qui suit en activant l'option \verb@help@ qui demande à \verb@tkz-tab@ d'afficher les noms de noeuds au sens TikZ qui ont été créés.
Ceci permet alors d'utiliser ces noeuds pour des dessins TikZ faits maison
\footnote{
    C'est grâce à ce mécanisme que \prefix{tnsana} peut proposer des outils explicatifs des tableaux de signe : voir la section suivante.
}.
	

\inputlatexexcodeafter{tikz/tabsignvar-node-name.tkz}


Maintenant que les noms des noeuds sont connus, il devient facile de produire le code ci-après.
Bien noter l'usage de valeurs utiles \og vides \fg{} de $x$ ainsi que les mystiques \verb@\node at ($(A)!0.5!(B)$)@ permettant de placer un noeud au milieu entre les deux noeuds \verb@A@ et \verb@B@. 

\inputlatexexalone{tikz/tabsignvar-align-sign-from-var-2.tkz}


% ---------------------- %


\newparaexample{Convexité et concavité symbolisées dans les variations}

Voici un autre exemple s'utilisant la machinerie TikZ afin d'indiquer dans les variations la convexité et la concavité via des flèches incurvées \emph{(cette convention est proposée dans la sous-section \emph{\og Exemple utilisant l'option \macro{help} \fg} de la section \emph{\og Gallerie \fg}  de la documentation de \prefix{tkz-tab})}.

\begin{center}
\begin{tikzpicture}
    \tkzTabInit[
        espcl = 3,
%        help       % <-- Pour voir les noms des noeuds.
    ]{
        $x$   / 0.75 ,
        $f''$ / 1    ,
        $f'$  / 2    ,
        $f$   / 3
    }{
                $-\infty$          , $0$          , $+\infty$
    }
    \tkzTabLine{               , - , z        , + ,              }
    \tkzTabVar {+ / $+\infty$      , - / $-2$     , + / $+\infty$}

    \tkzTabVal[draw]{1}{2}{.5}{$x_1$}{$0$}
    \tkzTabVal[draw]{2}{3}{.5}{$x_2$}{$0$}

    \begin{scope}[->, > = triangle 60]
        \coordinate (Middle1) at ($(N13)!0.5!(N14)$);
        \coordinate (Middle2) at ($(N23)!0.5!(N24)$);
        \coordinate (Middle3) at ($(N33)!0.5!(N34)$);
        \path (N13) -- (N23) node[midway,below=6pt](N){};
        %
        \draw ([above=6pt]Middle1)
              to [bend left=45] ([left=1pt]N);
        \draw ([right=3pt]N)
              to [bend left=45] ([above=6pt]Middle2) ;
        \draw ([below right=3pt]Middle2)
              to [bend left=-45] ([above=6pt]M24) ;
        \draw ([above right=6pt]M24)
              to [bend right=40] ([below left=6pt]Middle3);
    \end{scope}
\end{tikzpicture}
\end{center}

Le code utilisé est le suivant.

\begin{latexex-alone}
\begin{tikzpicture}
    \tkzTabInit[
        espcl = 3,
%        help       % <-- Pour voir les noms des noeuds.
    ]{
        $x$   / 0.75 ,
        $f''$ / 1    ,
        $f'$  / 2    ,
        $f$   / 3
    }{
                $-\infty$          , $0$          , $+\infty$
    }
    \tkzTabLine{               , - , z        , + ,              }
    \tkzTabVar {+ / $+\infty$      , - / $-2$     , + / $+\infty$}

    \tkzTabVal[draw]{1}{2}{.5}{$x_1$}{$0$}
    \tkzTabVal[draw]{2}{3}{.5}{$x_2$}{$0$}

    \begin{scope}[->, > = triangle 60]
        \coordinate (Middle1) at ($(N13)!0.5!(N14)$);
        \coordinate (Middle2) at ($(N23)!0.5!(N24)$);
        \coordinate (Middle3) at ($(N33)!0.5!(N34)$);
        \path (N13) -- (N23) node[midway,below=6pt](N){};
        %
        \draw ([above=6pt]Middle1)
              to [bend left=45] ([left=1pt]N);
        \draw ([right=3pt]N)
              to [bend left=45] ([above=6pt]Middle2) ;
        \draw ([below right=3pt]Middle2)
              to [bend left=-45] ([above=6pt]M24) ;
        \draw ([above right=6pt]M24)
              to [bend right=40] ([below left=6pt]Middle3);
    \end{scope}
\end{tikzpicture}
\end{latexex-alone}
%% \section{Analysis}
%
%\section{Tableaux de variation et de signe}

\subsection{Décorer facilement un tableau}

\subsubsection{Motivation}

Considérons le tableau suivant et imaginons que nous voulions l'expliquer à un débutant.

\begin{center}
	\input{tikz/tabsignvar-deco-basic-1.tkz}
\end{center}

Deux options s'offrent à nous pour justifier comment a été rempli le tableau.

\begin{enumerate}
    \item Classiquement on résout par exemple juste les deux inéquations $2 x - 3 > 0$ et $-x + 5 > 0$ puis on complète les deux premières lignes
    \footnote{
        Notons que cette approche est un peu scandaleuse car il faudrait en toute rigueur aussi résoudre
        $2 x - 3 < 0$ , $-x + 5 < 0$ , $2 x - 3 = 0$ et $-x + 5 = 0$.
        Personne ne le fait car l'on pense aux variations d'une fonction affine. Dans ce cas pourquoi ne pas juste utiliser ce dernier argument?
        C'est ce que propose la 2\ieme{} méthode.
    }
    pour en déduire la dernière via la règle des signes d'un produit.

    \item On peut proposer une méthode moins sujette à la critique qui s'appuie sur la représentation graphique d'une fonction affine en produisant le tableau suivant.
\end{enumerate}

\begin{center}
	\input{tikz/tabsignvar-deco-basic-2.tkz}
\end{center}


Pour produire le 2\ieme{} tableau, en plus du code \verb#tkz-tab# pour le tableau de signe
\footnote{
	Nous avons utilisé les réglages optionnels
	\texttt{lgt = 3.5} et \texttt{espcl = 2.5} de \macro{tkzTabInit}
	pour avoir de la place dans la 1\iere{} colonne pour le dernier produit
	et aussi réduire la largeur des colonnes pour les signes.
},
il a fallu ajouter les lignes données ci-dessous où sont utilisées les macros     \macro{backLine}, \macro{graphSign} et \macro{comLine} proposées par \verb+tnsana+ \emph{(la syntaxe simple à suivre sera expliquée dans les trois sections suivantes)}.
	Indiquons que les lignes pour les signes doivent utiliser un coefficient minimal de \texttt{1.5} pour la hauteur afin d'éviter la superposition des graphiques.

\medskip

\inputlatexexalone{tikz/tabsignvar-deco-basic-2-short.tkz}


\begin{remark}
	Il est aussi possible de décorer une ligne de variation comme cela sera montré dans l'exemple \ref{tnsana-graphsign-com-two-lines} page \pageref{tnsana-graphsign-com-two-lines}. 
\end{remark}


% ---------------------- %


\subsubsection{Ajouter une couleur de fond à une ligne}

La modification de la couleur de fond d'une ligne se fait via la macro \macro{backLine}
\footnote{
    L'auteur de \prefix{tnsana} n'est absolument pas un fan de la casse en bosses de chameau mais par souci de cohérence avec ce que propose \prefix{tkz-tab} le nom \macro{backLine} a été proposé à la place de \macro{backline}.
}
pour \whyprefix{back}{ground} \prefix{of the line} soit \inenglish{fond de la ligne}.
Cette macro possède un argument optionnel et un obligatoire.

\begin{itemize}[label=\small\textbullet, itemsep=.25em]
    \item \textit{L'argument optionnel : choix de la couleur de fond.}
          
          \smallskip
          
          Ci-dessus nous avons utilisé la couleur par défaut qui est  \verb#gray!30#.


    \medskip
    \item \textit{L'argument obligatoire : les numéros de ligne séparés par des virgules.}
          
          \smallskip
          
          La numérotation des lignes commence à $0$ comme en informatique. Ainsi \verb#\backLine{0,3}# ajoute une couleur de fond à la ligne des valeurs utiles de $x$ et à la 3\ieme{} ligne de signes, ou moins intuitivement à la (3+1)\ieme{} ligne du tableau.
\end{itemize}



% ---------------------- %


\subsubsection{Commenter une ligne}

L'ajout de commentaires courts se fait via la macro \macro{comLine} pour \whyprefix{com}{ment a} \prefix{line} soit \inenglish{commenter une ligne}.
Cette macro possède un argument optionnel et deux obligatoires.

\begin{itemize}[label=\small\textbullet, itemsep=.25em]
    \item \textit{L'argument optionnel : choix de la couleur du texte.}
          
          \smallskip
          
          Ci-dessus nous avons utilisé \verb#\comLine[gray]{0}{...}# pour avoir un texte en gris.


    \item \textit{Le 1\ier{} argument : le numéro de ligne \emph{(comme pour \macro{backLine})}.}


    \item \textit{Le 2\ieme{} argument : texte du commentaire.}
          
          \smallskip
          
          Par défaut aucun retour à la ligne n'est possible.
          Si besoin se reporter à l'exemple \ref{tnsana-graphsign-com-two-lines},  page \pageref{tnsana-graphsign-com-two-lines} section \ref{tnsana-graphsign-examples}, où est montré comment écrire sur plusieurs lignes.
\end{itemize}


% ---------------------- %


\subsubsection{Graphiques pour expliquer des signes}

Pour le moment, la macro \macro{graphSign} propose différents types de graphiques de fonctions dites de référence.
Avant de voir ce qui est proposé rappelons que la convention est de prendre $0$ pour numéro de la toute 1\iere{} ligne contenant les valeurs utiles de la variable.

\begin{enumerate}
    \item \textbf{\itshape Fonctions affines non constantes avec une contrainte.}
          
          \smallskip

          Pour les fonctions du type $f(x) = a x + b$ avec $a \neq 0$, nous devons connaître le signe de $a$ et la racine $r$ de $f$.
          Le codage est simple : considérons par exemple \verb#\graphSign{2}{ax+b, an}{$5$}#.
		  %
          \begin{itemize}[label=\small\textbullet, itemsep=.25em]
          		\item \textit{1\ier{} argument $2$.}

		              \smallskip
		              Ceci indique d'ajouter le graphique dans la 2\ieme{} ligne de signes.


          		\item \textit{\texttt{ax+b} dans le 2\ieme{} argument.}

		              \smallskip
		              Ce code sans espace indique une fonction affine.
		              

          		\item \textit{\texttt{an} dans le 2\ieme{} argument.}

		              \smallskip
		              Ce code venant de \prefix{a négatif} ajoute la condition $a < 0$.

		
				\item \textit{3\ieme{} argument $5$.}

		              \smallskip
		              Ceci donne la racine.
          \end{itemize}

          Donc pour ajouter dans la 4\ieme{} ligne de signe le graphique de $f(x) = 3x$, on utilisera dans ce cas \verb#\graphSign{4}{ax+b, ap}{$0$}# où \prefix{ap} pour \prefix{a positif} code la condition $a > 0$.


    % ==================== %


    \bigskip
    \item \textbf{\itshape Fonctions trinômiales du 2\ieme{} degré avec deux contraintes.}
          
          \smallskip

          Pour les fonctions du type $f(x) = a x^2 + b x + c$ avec $a \neq 0$, en plus du signe de $a$ nous devons connaître celui du discriminant $\Delta = b^2 - 4ac$, ce dernier pouvant être nul, sans oublier les racines réelles éventuelles.
		  Voyons comment coder ce genre de chose via par exemple \verb#\graphSign{5}{ax2+bx+c, an, dp}{$r_1$}{$r_2$}#.
		  %
          \begin{itemize}[label=\small\textbullet, itemsep=.25em]
          		\item \textit{1\ier{} argument $5$.}

		              \smallskip
		              On indique la 5\ieme{} ligne de signes.

          		\item \textit{\texttt{ax2+bx+c} dans le 2\ieme{} argument.}

		              \smallskip
		              Ce code sans espace indique un trinôme du 2\ieme{} degré.


          		\item \textit{\texttt{an} dans le 2\ieme{} argument \emph{(comme avant).}}


          		\item \textit{\texttt{dp} dans le 2\ieme{} argument.}

		              \smallskip
		              Ce code venant de \prefix{discriminant positif} ajoute la condition $\Delta > 0$.
		              En plus de \prefix{dn} et \prefix{dp} il y a aussi \prefix{dz} pour \prefix{discriminant zéro}.
		
		
				\item \textit{3\ieme{} et 4\ieme{} arguments $r_1$ et $r_2$.}

		              \smallskip
		              Ceci donne les deux racines réelles avec obligatoirement $r_1 < r_2$.
          \end{itemize}


          Ainsi pour indiquer dans la 3\ieme{} ligne de signe la courbe relative à $f(x) = - 4 x^2$, on utilisera \verb#\graphSign{3}{ax2+bx+c, an, dz}{$0$}#.


          \smallskip

          Enfin le graphique associé au trinôme $f(x) = 7 x^2 + 3$, qui est sans racine réelle, s'obtiendra dans la 4\ieme{} ligne de signe via \verb#\graphSign{4}{ax2+bx+c, ap, dn}#.


    % ==================== %


    \bigskip
    \item \textbf{\itshape Fonctions sans contrainte.}
          
          \smallskip

          Voici ce qui est disponible via \verb#\graphSign{noligne}{codefonc}# où les valeurs possibles de \verb#codefonc# sont les suivantes.
          
		  \begin{center}
		  	  \begin{tabular}{r|c|c|c|c|c|c}
				  \verb+codefonc+
				      &  \verb#x2#
				      &  \verb#sqrt#
				      &  \verb#1/x#
				      &  \verb#abs#
				      &  \verb#exp#
				      &  \verb#ln#
				  \\
				  \hline
				  $f(x)$
				      &  $x^{2\vphantom{X^{X^X}}}$
				      &  $\sqrt x$
				      &  $\frac1x$
				      &  $\abs x$
				      &  $\exp x$
				      &  $\ln x$ 
		  	  \end{tabular}
		  \end{center}
\end{enumerate}
%% \section{Analysis}
%
%\section{Tableaux de variation et de signe}

\subsubsection{Quelques exemples}  \label{tnsana-graphsign-examples}

\newparaexample{Avec une parabole}

Il devient très facile de proposer un tableau décoré comme le suivant.

\begin{center}
	\input{tikz/tabsignvar-deco-parabola.tkz}
\end{center}


En plus des deux exemples de schémas de paraboles, il faut noter dans le code supplémentaire ajouté l'utilisation de \verb#\kern1.75em# dans \verb#\comLine[gray]{0}{\kern1.75em Schémas}# afin de mettre un espace horizontal précis pour centrer à la main le texte \emph{\og Schémas \fg} \emph{(un peu sâle mais ça marche)}.

\medskip

\inputlatexexalone{tikz/tabsignvar-deco-parabola-short.tkz}


% ---------------------- %


\newparaexample{Avec des fonctions sans paramètre}

Voici un 1\ier{} tableau avec certaines des fonctions sans paramètre.

\begin{center}
	\input{tikz/tabsignvar-deco-ref-1.tkz}
\end{center}

Le code correspondant est le suivant.

\medskip

\inputlatexexalone{tikz/tabsignvar-deco-ref-1-short.tkz}

\medskip

Voici un 2\ieme{} tableau avec les fonctions sans paramètre manquantes ci-dessus.

\begin{center}
	\input{tikz/tabsignvar-deco-ref-2.tkz}
\end{center}

Le code correspondant est le suivant.

\medskip

\inputlatexexalone{tikz/tabsignvar-deco-ref-2-short.tkz}


% ---------------------- %


\newparaexample{Commenter des variations} \label{tnsana-graphsign-com-two-lines}

Pour finir, indiquons que les outils de décoration marchent aussi pour les tableaux de variation.
Voici un exemple possible d'utilisation où les retours à la ligne ont été obtenus affreusement, ou pas, via \verb#\parbox{11.5em}{...}#.

\begin{center}
	\input{tikz/tabsignvar-deco-var.tkz}
\end{center}
%% \section{Analysis}
%
%\section{Tableaux de variation et de signe}
\section{Calcul intégral}

\subsection{Le symbole standard revisité}

Commençons par un point important : le package réduit les espacements entres des symboles $\int$ successifs. Voici un exemple.

\begin{latexex}
$\displaystyle
 \int \int \int 
 F(x;y;z) \dd{x} \dd{y} \dd{z}$

$\displaystyle
 \int_{a}^{b} \int_{c}^{d} \int_{e}^{f} 
 F(x;y;z) \dd{x} \dd{y} \dd{z}$
\end{latexex}


\begin{remark}
	Par défaut, \LaTeX{} affiche
	$\displaystyle
	 \stdint \stdint \stdint
	 F(x;y;z) \dd{x} \dd{y} \dd{z}$
    et
    $\displaystyle
	 \stdint_{a}^{b} \stdint_{c}^{d} \stdint_{e}^{f}
     F(x;y;z) \dd{x} \dd{y} \dd{z}$.
    Nous avons obtenu ce résultat en utilisant \macro{stdint} qui est l'opérateur proposé de façon standard par \LaTeX.
\end{remark}


% ---------------------- %


\subsection{Un opérateur d'intégration clés en main}

\newparaexample{À quoi bon ?}

Le 1\ier{} exemple qui suit semblera être une hérésie pour les habitués de \LaTeX{} mais rappelons que le but de \verb+tnsana+ est de rendre les documents facilement modifiables globalement ou localement comme le montre le 2\ieme{} exemple.

\begin{latexex}
 $\displaystyle
  \integrate{f(x)}{x}{a}{b}
= \int_{x=a}^{x=b} f(x) \dd{x}$

 $\displaystyle
  \integrate*{f(x)}{x}{a}{b}
= \integrate{f(x)}{x}{a}{b}$
\end{latexex}


\newparaexample{Le mode \texttt{displaystyle}}

La macro \macro{dintegrate*} présentée ci-dessous possède aussi une version non étoilée \macro{dintegrate}.

\begin{latexex}
 $\dintegrate*{f(x)}{x}{a}{b}
= \integrate*{f(x)}{x}{a}{b}$
\end{latexex}


% ---------------------- %


\subsection{L'opérateur \og crochet \fg}

\newparaexample{}

\begin{latexex}
 $\hook{F(x)}{x}{a}{b}
= F(b) - F(a)$

 $\dintegrate*{f(x)}{x}{a}{b}
= \hook*{F(x)}{x}{a}{b}$

\end{latexex}


\begin{remark}
	Il faut savoir que \macro{hook} signifie \inenglish{crochet} mais la bonne traduction du terme mathématique est en fait \emph{\og square bracket \fg}. Ceci étant dit l'auteur de \verb+tnsana+ trouve plus efficace d'utiliser \macro{hook} comme nom de macro.
\end{remark}


% ---------------------- %


\newparaexample{Des crochets non extensibles}

Dans l'exemple suivant, on utilise l'option \prefix{sb} pour \whyprefix{s}{mall} \whyprefix{b}{rackets} soit \inenglish{petits crochets}. Les options sont disponibles à la fois pour \macro{hook} et \macro{hook*}.


\begin{latexex}
 $\hook*{\dfrac{x - 1}{5 + x^2}}{x}%
        {a}{b}
= \hook*[sb]%
        {\dfrac{x - 1}{5 + x^2}}{x}%
        {a}{b}$
\end{latexex}


% ---------------------- %


\newparaexample{Un trait vertical épuré}

Via les options \prefix{r} et \prefix{sr} pour \whyprefix{s}{mall} et \whyprefix{r}{ull} soit \inenglish*{petit} et \inenglish{trait}, on obtient ce qui suit.

\begin{latexex}
 $\hook[r]  {\dfrac{x - 1}{5 + x^2}}{x}%
            {a}{b}
= \hook*[sr]{\dfrac{x - 1}{5 + x^2}}{x}%
            {a}{b}$
\end{latexex}


% ---------------------- %
\newpage

\section{Historique}

Nous ne donnons ici qu'un très bref historique récent
\footnote{
	On ne va pas au-delà de un an depuis la dernière version.
}
de \verb+tnsana+ à destination de l'utilisateur principalement.
Tous les changements sont disponibles uniquement en anglais dans le dossier \verb+change-log+ : voir le code source de \verb+tnsana+ sur \verb+github+.

\begin{description}
% Changes shown - START

    \medskip
    \item[2020-08-05] Nouvelle version mineure \verb+0.7.0-beta+.
    
    \begin{itemize}[itemsep=.5em]
        \item \topic*{Définition explicite d'une fonction}
              les macros \macro{funcdef} et \macro{txtfuncdef} ont été déplacées dans \verb#tnssets# qui est disponible sur \url{https://github.com/typensee-latex/tnssets.git}.
        
    \end{itemize}
    
    \separation
% ------------------------ %

    \medskip
    \item[2020-07-30] Nouvelle version mineure \verb+0.6.0-beta+.
    
    \begin{itemize}[itemsep=.5em]
        \item \topic{Définition explicite d'une fonction}
        \begin{itemize}[itemsep=.5em]
            \item Une nouvelle macro \macro{txtfuncdef} produit une version textuelle courte.
    
            \item Omission possible des ensembles, via des arguments vides, quand on utilise \macro{funcdef[h]} ou \macro{txtfuncdef}.
        \end{itemize}
    
    % ------------------------ %
    
        \item \topic*{Fonctions avec un paramètre}
              les macros \macro{expb} et \macro{logb} ont été remplacées par \macro{exp} et \macro{log} qui ont un argument optionnel pour indiquer éventuellement une base.
    
    % ------------------------ %
    
        \item \topic*{Dérivation partielle}
              \macro{pder[ei]} fonctionne maintenant aussi avec des variables indexées.
              
    \end{itemize}
    
    \separation
% ------------------------ %

    \medskip
    \item[2020-07-22] Nouvelle version mineure \verb+0.5.0-beta+.
    
    \begin{itemize}[itemsep=.5em]
        \item \topic*{Définition explicite d'une fonction}
              ajout de \macro{funcdef}.
    \end{itemize}
    
    \separation
% ------------------------ %

    \medskip
    \item[2020-07-21] Nouvelle version mineure \verb+0.4.0-beta+.
    
    \begin{itemize}[itemsep=.5em]
        \item \topic*{Limite}
              ajout de \macro{limit} pour l'écriture de limites de fonctions à une seule variable.
    
    % ------------------------ %
    
        \item \topic*{Dérivation}
              par souci de cohérence, il faudra taper \verb#\der{f}{x}{n}# au lieu de l'ancien \verb#\der{f}{n}{x}#.
    
    % ------------------------ %
    
        \item \topic*{Intégration}
              par souci de cohérence, il faudra taper \verb#\integrate{f}{x}{a}{b}# au lieu de l'ancien \verb#\integrate{a}{b}{f}{x}#.
              Il en va de même pour \macro{hook}.
    \end{itemize}
    
    \separation

% ------------------------ %

    \medskip
    \item[2020-07-17] Nouvelle version mineure \verb+0.3.0-beta+.
    
    \begin{itemize}[itemsep=.5em]
        \item \topic{Dérivation}
        \begin{itemize}[itemsep=.5em]
            \item Dérivation pointée à la physicienne via \verb+d+ et \verb+bd+ deux nouvelles options de \macro{der}.
    
            \item La dérivation partielle indexée du type $u_{xxy}$ à la physicienne via \verb+ei+ une nouvelle option de \macro{pder}.
        \end{itemize}
    
    % ------------------------ %
    
        \item \topic{Tableaux de signe et de variation}
        \begin{itemize}[itemsep=.5em]
            \item Ajout de \macro{backLine} pour changer la couleur de fond d'une ou plusieurs lignes.
    
    
            \item \macro{graphSign} propose des fonctions de référence \emph{(sans paramètre)}.
        \end{itemize}
    \end{itemize}
    
    \separation

% ------------------------ %

    \medskip
    \item[2020-07-15] Nouvelle version mineure \verb+0.2.0-beta+.
    
    \begin{itemize}[itemsep=.5em]
        \item \topic*{Symboles} les nouvelles macros \macro{symvar} et \macro{symvar*} produisent un disque plein et un carré plein permettant par exemple d'indiquer symboliquement une ou des variables.
    \end{itemize}
    
    \separation
% ------------------------ %

    \medskip
    \item[2020-07-12] Nouvelle version mineure \verb+0.1.0-beta+. 
        
    \begin{itemize}[itemsep=.5em]
        \item \topic*{Fonctions nommées} \macro{ppcm} et \macro{pgcd} ont été déplacées dans \texttt{tnsarith} disponible sur \url{https://github.com/typensee-latex/tnsarith.git}.
    \end{itemize}
    
    \separation

% ------------------------ %

    \medskip
    \item[2020-07-10] Première version \verb+0.0.0-beta+.

% ------------------------ %

% Changes shown - END 
\end{description}


\newpage
\section{Toutes les fiches techniques} \label{techincal-ids}









\subsection{Constantes et paramètres}

\subsubsection{Constantes classiques ajoutées}



\vspace{-1em}
\begin{multicols}{2}
% == Docs for contants - START == %

\foreach \k in {ggamma, ppi, ttau, ee, ii, jj, kk}{

	\IDope{\k}

}

% == Docs for contants - END == %
\vfill\null
\end{multicols}


% ---------------------- %


\subsubsection{Constantes latines personnelles}



\IDmacro[a]{param}{1}

\IDarg{} un texte utilisant l'alphabet latin.


\subsection{Une variable \og symbolique \fg{}}



\IDmacro[o]{symvar}{1}

\IDoption{} le numéro du symbole qui vaut \verb#1# par défaut.
\begin{itemize}
	\item \verb#1# donne $\symvar[1]$ .
	\item \verb#2# donne $\symvar[2]$ .
	\item \verb#3# donne $\symvar[3]$ .
%	\item \verb#4# donne $\symvar[4]$ .
\end{itemize}


\subsection{La fonction valeur absolue}



\IDmacro[a]{abs }{1}

\IDmacro[a]{abs*}{1}

\IDarg{} l'expression sur laquelle appliquer la fonction valeur absolue.


\subsection{Fonctions nommées spéciales}

\subsubsection{Sans paramètre}



% List of functions without parameter - START

\foreach \k in {acos, asin, atan}{

    \IDope{\k} 
}
                
\separation

\foreach \k in {arccosh, arcsinh, arctanh}{

    \IDope{\k} 
}
                
\separation

\foreach \k in {acosh, asinh, atanh}{

    \IDope{\k} 
}
                
\separation

\foreach \k in {fch, fsh, fth}{

    \IDope{\k} \hfill \mwhyprefix{{f}}{{rench}}
}
                
\separation

\foreach \k in {afch, afsh, afth}{

    \IDope{\k} 
}

% List of functions without parameter - END


% ---------------------- %


\subsubsection{Avec un paramètre}



% List of functions with parameters - START

\IDmacro[o]{exp}{1}

\IDoption{} la base de l'exponentielle

\separation

\IDmacro[o]{log}{1}

\IDoption{} la base du logarithme

% List of functions with parameters - END


% ---------------------- %


\subsection{Limite}



\IDmacro{limit}{1}{3}


\IDoption{}  la valeur par défaut \verb+asit+ n'a pas vocation à être utilisée. 
\begin{enumerate}
	\item \verb+asit+ : rien n'est appliqué sur la fonction qui reste donc tel quelle.
	
	\item \verb+p   + : ajout de parenthèses extensibles autour de la fonction.

	\item \verb+sp  + : ajout de parenthèses non extensibles autour de la fonction.
\end{enumerate}


\IDarg{1} la fonction dont on indique la limite.

\IDarg{2} la variable qui va tendre vers quelque chose.

\IDarg{3} la valeur limite suivie éventuellement de conditions en utilisant la barre verticale \verb+|+ pour séparer ces différentes informations.


\subsection{Calcul différentiel}

\subsubsection{\texorpdfstring{Les opérateurs $\pp{}$ et $\dd{}$}%
                           {Les opérateurs "d rond" et "d droit"}}



\IDmacro{dd}{1}{1}

\IDmacro{pp}{1}{1}

\IDoption{} utilisée, cette option sera mise en exposant du symbole $\pp{}$ ou $\dd{}$.

\IDarg{} la variable de différentiation à droite du symbole $\pp{}$ ou $\dd{}$.


% ---------------------- %


\subsubsection{Dérivations totales d'une fonction -- Version longue avec une variable}



\IDmacro{der}{1}{3}

\IDoption{} la valeur par défaut est \verb+u+. 
\begin{enumerate}
	\item \verb+u  + : écriture usuelle avec des primes \emph{(ceci nécessite d'avoir une valeur entière naturelle connue du nombre de dérivations successives)}.

	\item \verb+e  + : écriture via un exposant entre des parenthèses.
	
	\item \verb+i  + : écriture via un indice.

	\item \verb+d  + : écriture pointée à la physicienne \emph{(cf. la dérivation par rapport au temps)}.

	\item \verb+bd + : écriture pointée avec un crochet entre les points et la fonction.

	\medskip
	
	\item \verb+f  + : écriture via une fraction en mode display.

	\item \verb+sf + : écriture via une fraction en mode non display.

	\item \verb+of + : écriture via une fraction en mode display sous la forme d'un opérateur \emph{(la fonction est à côté de la fraction)}.

	\item \verb+osf+ : écriture via une fraction en mode non display sous la forme d'un opérateur \emph{(la fonction est à côté de la fraction)}.

	\medskip
	
	\item \verb+p  + : ajout de parenthèses extensibles autour de la fonction.

	\item \verb+sp + : ajout de parenthèses non extensibles autour de la fonction.
\end{enumerate}


\IDarg{1} la fonction à dériver.

\IDarg{2} la variable de dérivation.

\IDarg{3} l'ordre de dérivation.


% ---------------------- %


\subsubsection{Dérivations totales d'une fonction -- Version courte sans variable} 



\IDmacro{sder}{1}{2} \hfill \mwhyprefix{s}{imple}

\IDoption{} la valeur par défaut est \verb+u+. Les options disponibles sont \verb+u+, \verb+e+, \verb+d+, \verb+bd+, \verb+p+ et \verb+sp+ : voir la fiche technique de \macro{sder} ci-dessus.

\IDarg{1} la fonction à dériver.

\IDarg{2} l'ordre de dérivation.


% ---------------------- %


\subsubsection{L'opérateur de dérivation totale} 



\IDmacro{derope}{1}{2} \hfill \mwhyprefix{ope}{rator}

\IDoption{} la valeur par défaut est \verb+f+. Les options disponibles sont \verb+f+, \verb+sf+ et \verb+i+ : voir la fiche technique de \macro{der} donnée un peu plus haut.

\IDarg{1} la fonction à dériver.

\IDarg{2} l'ordre de dérivation.


\subsubsection{Dérivations partielles}



\IDmacro{pder}{1}{2} \hfill \mwhyprefix{p}{artial}

\IDoption{} la valeur par défaut est \verb+f+. 
\begin{enumerate}
	\item \verb+f  + : écriture via une fraction en mode display.

	\item \verb+sf + : écriture via une fraction en mode non display.

	\item \verb+of + : écriture via une fraction en mode display sous la forme d'un opérateur \emph{(la fonction est à côté de la fraction)}.

	\item \verb+osf+ : écriture via une fraction en mode non display sous la forme d'un opérateur \emph{(la fonction est à côté de la fraction)}.

	\medskip

	\item \verb+i  + : écriture via un indice.

	\item \verb+ei + : écriture via un indice mais en \emph{\og développant \fg}.

	\medskip

	\item \verb+p  + : ajout de parenthèses extensibles autour de la fonction.

	\item \verb+sp + : ajout de parenthèses non extensibles autour de la fonction.
\end{enumerate}


\IDarg{1} la fonction à dériver.

\IDarg{2} les variables utilisées avec leur ordre de dérivation pour la dérivation partielle en utilisant une syntaxe du type \verb+x | y^2 | ...+ qui indique de dériver suivant $x$ une fois, puis suivant $y$ deux fois... etc.

\IDarg{3} l'ordre total de dérivation.


% ---------------------- %


\subsubsection{L'opérateur de dérivation partielle} 



\IDmacro{pderope}{1}{2} \hfill \mwhyprefix{p}{artial}
                            et \mwhyprefix{ope}{rator}

\IDoption{} la valeur par défaut est \verb+f+. Les options disponibles sont \verb+f+, \verb+sf+ et \verb+i+ : voir la fiche technique de \macro{pder} juste avant.

\IDarg{1} les variables utilisées avec leur ordre de dérivation via la syntaxe indiquée ci-dessus.

\IDarg{2} l'ordre total de dérivation.











\subsection{Tableaux de variation et de signe}



\subsubsection{Coloriser le fond}

\IDmacro{backLine}{1}{1} \hfill \mwhyprefix{back}{ground}


\IDoption{} couleur au format TikZ.
            La valeur par défaut est \verb+gray!30+.


\IDarg{1} les numéros de ligne séparés par des virgules, $0$ étant le 1\ier{} numéro.


% ---------------------- %


\subsubsection{Commentaires}

\IDmacro{comLine}{1}{2} \hfill \mwhyprefix{com}{ment}


\IDoption{} couleur au format TikZ.
            La valeur par défaut est \verb+blue+.


\IDarg{1} le numéro de ligne, $0$ étant le 1\ier{} numéro.

\IDarg{2} le texte du commentaire.


% ---------------------- %


\subsubsection{Graphiques explicatifs}

\IDmacro{graphSign}{1}{4}


\IDoption{} couleur au format TikZ.
            La valeur par défaut est \verb+blue+.


\IDarg{1} le numéro de ligne, $0$ étant le 1\ier{} numéro.


\IDarg{2} le type de fonctions avec des contraintes éventuelles en utilisant la virgule comme séparateur d'informations.

\begin{enumerate}
	\item \verb@x2  @ sans espace indique $f(x) = x^2$.

	\item \verb@srqt@ sans espace indique $f(x) = \sqrt{x}$.

	\item \verb@1/x @ sans espace indique $f(x) = \frac{1}{x}$.

	\item \verb@abs @ sans espace indique $f(x) = \abs{x}$.

	\item \verb@exp @ sans espace indique $f(x) = \exp x$.

	\item \verb@ln  @ sans espace indique $f(x) = \ln x$.

    % ==================== %

	\medskip
	
	\item \verb@ax+b    @ sans espace indique $f(x) = ax + b$ avec $a \neq 0$ à caractériser.

	\item \verb@ax2+bx+c@ sans espace indique $f(x) = ax^2 + bx + c$ avec $a \neq 0$ et le discriminant $d$ à caractériser.

    % ==================== %

	\medskip
	
	\item \verb@ap@ et \verb@an@ indiquent respectivement les conditions $a > 0$ et $a < 0$.

	\item \verb@dp@, \verb@dz@ et \verb@dn@ indiquent respectivement les conditions $d > 0$, $d = 0$ et $d < 0$.
\end{enumerate}


\IDarg{3 supplémentaire pour ax+b} la racine réelle de $ax + b$.


\IDarg{$\!$s supplémentaires éventuels pour ax2+bx+c} si $ax^2 + bx + c$ admet une ou deux racines réelles, on donnera toutes les racines de la plus petite à la plus grande
\footnote{
	Notant $\Delta = b^2 - 4 ac$, si $\Delta < 0$ il n'y aura pas d'argument supplémentaire, si $\Delta = 0$ il y en aura un seul et enfin si $\Delta > 0$ il faudra en donner deux, le 1\ier{} étant le plus petit.
}.


\subsection{Calcul intégral}

\subsubsection{Le symbole standard revisité}



\IDope{stdint} (pour retrouver le comportement par défaut)


% ---------------------- %


\subsubsection{Un opérateur d'intégration clés en main}



\IDmacro[a]{integrate  }{4}

\IDmacro[a]{integrate* }{4}

\extraspace

\IDmacro[a]{dintegrate }{4}  \hfill \mwhyprefix{d}{isplaystyle}

\IDmacro[a]{dintegrate*}{4}


\IDarg{1} la fonction intégrée.

\IDarg{2} la variable d'intégration.

\IDarg{3} valeur initiale d'intégration qui apparait en bas du symbole $\int_{\symvar}$ .

\IDarg{4} valeur finale d'intégration qui apparait en haut du symbole $\int^{\symvar}$ .



% ---------------------- %


\subsubsection{L'opérateur \og crochet \fg}



\IDmacro{hook }{1}{4}

\IDmacro{hook*}{1}{4}


\IDoption{} la valeur par défaut est \verb+b+. Voici les différentes valeurs possibles.
\begin{enumerate}
	\item \verb+b + : des crochets extensibles sont utilisés.

	\item \verb+sb+ : des crochets non extensibles sont utilisés.

	\item \verb+r + : un unique trait vertical extensible est utilisé à droite.

	\item \verb+sr+ : un unique trait vertical non extensible est utilisé à droite.
\end{enumerate}

\IDarg{1} la fonction sur laquelle effectuer le calcul.

\IDarg{2} la variable à affecter pour les calculs.

\IDarg{3} valeur initiale à substituer qui apparait en bas du crochet fermant ou de la barre verticale.

\IDarg{4} valeur finale à substituer qui apparait en haut du crochet fermant ou de la barre verticale.




\end{document}
